(this.webpackJsonpd=this.webpackJsonpd||[]).push([[0],{11:function(e,t,n){e.exports={score:"ThreeInRow_score__2qBFk",game_container:"ThreeInRow_game_container__nBHg2",game:"ThreeInRow_game__hlzAd"}},20:function(e,t,n){e.exports={site_text:"Header_site_text__3awll"}},25:function(e,t,n){},26:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(8),r=n.n(i),u=(n(25),n(26),n(10)),o=n(5),l=n(18),s={threeInRow:{countTypeTiles:5,sizeTiles:50,countHorizontalTiles:12,countVerticalTiles:12}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;return t.type,e},_=Object(o.c)({games:f}),d=Object(o.d)(_,Object(o.a)(l.a)),j=n(2),b=n(12),m=n(6),O=n(11),p=n.n(O),v=n(3),x=n(19),h=n.n(x),g=n(4),T=n.n(g),y=n(1),w=function(e){var t=e.onHandlerClick,n=e.item,c=e.size,a=void 0===c?50:c,i=h()(T.a.item,T.a["item_"+n.value],Object(v.a)({},T.a.active,n.active),Object(v.a)({},T.a.allowed,n.allowed),Object(v.a)({},T.a.delete,n.delete),Object(v.a)({},T.a.appearance,n.appearance)),r={width:a-5+"px",height:a-5+"px",top:n.y,left:n.x};return Object(y.jsx)("div",{onClick:function(){return t(n)},style:r,className:i},n.id)},I=function(e){return Math.ceil(Math.random()*e)},S=function e(t,n){var c=I(t);return n.some((function(e){return e===c}))?e(t,n):c},k=function(e,t,n){var c=e.value,a=e.x,i=e.y,r=function(e,t){return e&&e.value===t},u=t.find((function(e){return e.y===i-n&&e.x===a})),o=t.find((function(e){return e.y===i-2*n&&e.x===a})),l=t.find((function(e){return e.y===i+n&&e.x===a})),s=t.find((function(e){return e.y===i+2*n&&e.x===a})),f=t.find((function(e){return e.x===a-n&&e.y===i})),_=t.find((function(e){return e.x===a-2*n&&e.y===i})),d=t.find((function(e){return e.x===a+n&&e.y===i})),j=t.find((function(e){return e.x===a+2*n&&e.y===i}));return r(f,c)&&r(_,c)||r(d,c)&&r(j,c)||r(f,c)&&r(d,c)||r(u,c)&&r(o,c)||r(l,c)&&r(s,c)||r(l,c)&&r(u,c)},z=function(e,t){return e.map((function(n){return Object(j.a)(Object(j.a)({},n),{},{delete:k(n,e,t)})}))},M=function(e){for(var t=[],n=0;n<e;n++)t.push(n);return t},C=function(e,t,n){var c=e.x===t.x&&t.y+n===e.y,a=t.x===e.x+n&&e.y===t.y,i=e.x===t.x&&t.y-n===e.y,r=t.x===e.x-n&&e.y===t.y;return c||i||a||r},H=function(e){var t=e.countHorizontalTiles,n=e.countVerticalTiles,a=e.countTypeTiles,i=e.sizeTiles,r=Object(c.useState)(!1),u=Object(m.a)(r,2),o=u[0],l=u[1],s=Object(c.useState)(!0),f=Object(m.a)(s,2),_=f[0],d=f[1],O=Object(c.useState)(0),v=Object(m.a)(O,2),x=v[0],h=v[1],g=Object(c.useState)([]),T=Object(m.a)(g,2),k=T[0],H=T[1],N=Object(c.useState)([]),R=Object(m.a)(N,2),E=R[0],F=R[1],A=Object(c.useCallback)((function(){return M(n).map((function(){return M(t).map((function(){return I(a)}))})).reduce((function(e,t,n){var c=e[e.length-1],r=e[e.length-2],u=t.reduce((function(e,t,u){var o=e[e.length-1]&&e[e.length-1].value,l=e[e.length-2]&&e[e.length-2].value,s=c&&c[u]&&c[u].value,f=r&&r[u]&&r[u].value,_=s||f,d=o||l;return[].concat(Object(b.a)(e),[function(e,t){var c={id:"_"+Math.random().toString(36).substr(2,9),value:null,x:u*i,y:n*i,active:!1,appearance:!1},r=S(a,e);return e.some((function(e){return e===t}))?Object(j.a)(Object(j.a)({},c),{},{value:r}):Object(j.a)(Object(j.a)({},c),{},{value:t})}([_,d],t)])}),[]);return[].concat(Object(b.a)(e),[u])}),[]).flat(1)}),[]),B=function(e,t){F((function(n){var c=function(e,t,n){return n.map((function(n){return n.id===e.id?Object(j.a)(Object(j.a)({},t),{},{x:e.x,y:e.y}):n.id===t.id?Object(j.a)(Object(j.a)({},e),{},{x:t.x,y:t.y}):n}))}(e,t,n);return z(c,i).some((function(e){return!!e.delete}))?c:n}))},L=function(e){if(_){var t=k.length;0===t?H([e]):1===t?e.id===k[0].id?H([]):C(e,k[0],i)?H((function(t){return[].concat(Object(b.a)(t),[e])})):H([e]):2===t&&H([e])}};return Object(c.useEffect)((function(){2===k.length?B(Object(j.a)({},k[0]),Object(j.a)({},k[1])):1===k.length?F((function(e){return e.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{allowed:C(e,!!k.length&&k[0],i),active:k.some((function(t){return e.id===t.id})),appearance:!1})}))})):0===k.length&&F((function(e){return e.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{allowed:!1,active:!1,appearance:!1})}))}))}),[k]),Object(c.useEffect)((function(){if(o&&F(z(E,i)),E.some((function(e){return!!e.delete}))){d(!1),h((function(e){return E.reduce((function(e,t){return t.delete?e+100:e}),e)}));var e=E.map((function(e){return e.delete?Object(j.a)(Object(j.a)({},e),{},{id:"_"+Math.random().toString(36).substr(2,9),value:I(a),active:!1,delete:!1,appearance:!0}):Object(j.a)(Object(j.a)({},e),{},{active:!1,delete:!1,allowed:!1,appearance:!1})}));setTimeout((function(){F(e)}),1e3),l(!0)}else d(!0),l(!1);2===k.length&&(H([]),l(!0))}),[E]),Object(c.useEffect)((function(){F(A())}),[]),Object(y.jsxs)("div",{className:p.a.game_container,children:[Object(y.jsxs)("div",{className:p.a.score,children:["\u0421\u0447\u0435\u0442: ",x]}),Object(y.jsx)("div",{className:p.a.game,children:E.map((function(e){return Object(y.jsx)(w,{ref:e.path,size:i,onHandlerClick:L,item:e},e.id)}))})]})},N=Object(u.b)((function(e){return{games:e.games}}),null)((function(e){return Object(y.jsx)(H,Object(j.a)({},e.games.threeInRow))})),R=n(20),E=n.n(R),F=function(){return Object(y.jsx)("div",{className:E.a.site_text,children:"\u0422\u0440\u0438 \u0432 \u0440\u044f\u0434"})},A=function(){return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)("header",{children:Object(y.jsx)(F,{})}),Object(y.jsx)("main",{children:Object(y.jsx)(N,{})})]})},B=function(){return Object(y.jsx)(u.a,{store:d,children:Object(y.jsx)(A,{})})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};r.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(B,{})}),document.getElementById("root")),L()},4:function(e,t,n){e.exports={item:"Tile_item__2rR0d",item_1:"Tile_item_1__1YKL8",item_2:"Tile_item_2__2w4kT",item_3:"Tile_item_3__2t_jU",item_4:"Tile_item_4__2mAgt",item_5:"Tile_item_5__3gQrz",item_6:"Tile_item_6__3o8AL",item_7:"Tile_item_7__1yMgY",appearance:"Tile_appearance__WMafh",appearanceItem:"Tile_appearanceItem__-YQyw",active:"Tile_active__e_Qh5",activeItem:"Tile_activeItem__2Ei7G",delete:"Tile_delete__b0Vev",deleteItem:"Tile_deleteItem__3qDnc",allowed:"Tile_allowed__3vZpM"}}},[[34,1,2]]]);
//# sourceMappingURL=main.06b23de3.chunk.js.map